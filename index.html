<!DOCTYPE html>
<html>
	<head>
		<title>Personal Portfolio of <TK_NAME></title>
		<link href="css/bootstrap.min.css" rel="stylesheet" media="screen">
	</head>
	<body>
		<ul class="nav nav-tabs" id="mainTab">
			<li class="active"><a href="#home" data-toggle="tab">Home</a><li>
			<li><a href="#profile" data-toggle="tab">Profile</a></li>
			<li class="dropdown">
				<a href="#" class="dropdown-toggle" data-toggle="dropdown">Galleries <b class="caret"></b></a>
				<ul class="dropdown-menu" id="galleries">
				</ul>
		  </li>
		</ul>
		<div class="tab-content" id="tab-contents" >

			<div class="tab-pane" id="home">
				TK, have a big hero panel here. One big picture with a blurb or something.
			</div>

			<div class="tab-pane" id="profile">
				TK, write your blurb here this can be any standard HTML.
			</div>
		</div>

		<!-- Modal -->
		<div id="lightbox" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
		  <div class="modal-header">
		    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
		  </div>
		  <div class="modal-body">
			  <img id="lightbox-image">
		  </div>
		  <div class="modal-footer">
		    <button class="btn" data-dismiss="modal" aria-hidden="true">Close</button>
		  </div>
		</div>
		
		<script src="http://code.jquery.com/jquery-latest.js"></script>
		<script src="js/bootstrap.min.js"></script>
		<script src="//cdnjs.cloudflare.com/ajax/libs/underscore.js/1.4.2/underscore-min.js"></script>

		<script>

			$(function() {
				$('#mainTab a:last').tab('show');
				var galleries = 
					[
					
					{
						"name" : "Argentina",
						"photos": [
						{
							"thumbnail": "arg_01.png",
							"image": "arg_full_01.jpg"
						},
						{
							"thumbnail": "arg_02.png",
							"image": "arg_full_02.jpg"
						},
						{
							"thumbnail": "arg_03.png",
							"image": "arg_full_03.jpg"
						}
						]
					}
					];

				gallery_view = $("#gallery-template").html();
				dropdown_view = $("#gallery-tab-template").html();
				$.each(galleries, function(index, gallery){
					$('#galleries').append(_.template(dropdown_view, gallery));
					$('#tab-contents').append(_.template(gallery_view, gallery));
				});

				$('.thumbnails a').click(function(event){
					var image = $(this).attr('data-big');
					$("#lightbox-image").attr('src', image);
					$('#lightbox').modal('show');
				});
			});
		</script>

		<!-- Templates -->
		<script type="text/template" id="gallery-template">
			<div class="tab-pane" id="<%= name %>">
				<div class="container">
					<div class="row">
							<ul class="thumbnails">
										<% for(var photo in photos) { %>
												<li class="span2">
												<a data-big="img/full/<%= photos[photo].image%>" href="#" class="thumbnail">	
																<img src="img/thumbnails/<%= photos[photo].thumbnail %>" alt="" />
														</a>	
													</li>
										<% } %>
							  </ul>
					</div>
				</div>
			</div>
		</script>


		<script type="text/template" id="gallery-tab-template">
			<li><a href="#<%= name %>" data-toggle="tab"><%= name %></a></li>
		</script>
	</body>
</html>
